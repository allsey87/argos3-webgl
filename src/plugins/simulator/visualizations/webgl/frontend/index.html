<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Websocket client</title>
    <!-- UIkit CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.2.0/css/uikit.min.css" />

    <!-- UIkit JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.2.0/js/uikit.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.2.0/js/uikit-icons.min.js"></script>
    
    <!-- Code Mirror -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.48.4/mode/lua/lua.min.js"></script>
    <style>
            canvas {
                width: 100%;
                height: 100%;
            }
            .top {
                display: flex;
                flex-direction: row;
            }
        </style>
</head>
<body>
    
    <div class="top">
        <input type="text" id="uri" class="uk-input"/>
        <button class="uk-button uk-button-default" id="connect">Connect</button>
        <button class="uk-button uk-button-default" id="sendStep" onclick="websocket.sendStep()">Step</button>
        <button class="uk-button uk-button-default" id="sendAuto" onclick="websocket.sendAuto()">Play</button>
        <button class="uk-button uk-button-default" id="sendPause" onclick="websocket.sendPause()">Pause</button>
        <a class="uk-button uk-button-default" href="#modal-center" uk-toggle>Help</a>
        <div id="modal-center" class="uk-flex-top" uk-modal>
            <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical">
                <button class="uk-modal-close-default" type="button" uk-close></button>
                Keys:
                <ul>
                    <li>Arrows key to navigate the camera</li>
                    <li>Select objects by clicking on them</li>
                    <li>Selected item can be moved after clicking on the ground</li>
                </ul>
            </div>
        </div>
    </div>
    <script>
        let winUrl = new URL(window.location.href);
        winUrl.protocol = "ws";
        document.getElementById("uri").value = winUrl;
    </script>
    <div class="webgl">
        <canvas id="canvas">

        </canvas>
    </div>
    <div class="editor">
        <ul class="uk-list uk-list-line" id="scripts-list">
        </ul>
        <div id="code">

        </div>
    </div>

<script>
    let module = {};
</script>
<script>
  var luaEditor = CodeMirror(document.getElementById('code'), {
      mode: 'lua',
  });
</script>
<script src="https://cdn.jsdelivr.net/gh/kvz/locutus/src/c/math/frexp.js"></script>
<script>
    console.log(module);
    window.frexp = module.exports;
</script>
<script src="play-state.js"></script>
<script src="editor.js"></script>
<script src="math.js"></script>
<script src="binary-extractor.js"></script>
<script src="binary-writer.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/104/three.min.js"></script>
<script src="https://cdn.rawgit.com/mrdoob/three.js/r92/examples/js/loaders/GLTFLoader.js"></script>
<script src="hack.js"></script>
<script src="client.js"></script>
<script src="index.js"></script>
<script src="camera-movement.js"></script>

</body>
</html>